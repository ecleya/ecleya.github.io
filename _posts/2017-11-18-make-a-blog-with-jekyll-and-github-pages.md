---
layout: post
title: Jekyll과 GitHub Pages로 블로그 시작하기
---
![title image]({{ site.url }}/assets/2017-11-18-make-a-blog-with-jekyll-and-github-pages/title_bar.jpg)

# Jekyll과 GitHub Pages로 블로그 시작하기
블로그 서비스는 굉장히 많습니다. 워드프레스, 네이버 블로그, 티스토리 등등. 그리고 각각의 서비스는 나름의 장점과 단점을 갖고 있습니다. 그런데, 그 어떤 서비스도 저에겐 잘 맞지 않았습니다. 우선 글을 브라우저에서 작성해야 한다는 점이 가장 마음에 들지 않았습니다. 백스페이스가 뒤로가기와 같은 단축키이던 시절, 브라우저에서 글을 쓴다는건 고역이었습니다. 물론 따로 적어뒀다가 옮겨도 됩니다만, 글을 잘 꾸미지 못하는 저에겐 WYSWYG은 너무 어렵더군요.

그러다 Jekyll이라는걸 알게 되었고, 이건 괜찮을 것 같다는 생각이 들었습니다. 그래서, Jekyll과 GitHub Pages를 이용해서 딱히 마음에 드는 서비스가 없다는 핑계로 미루고 미루던 블로그를 시작해보기로 하였습니다.

그리고 앞으로 몇 개의 글을 통해 이 블로그를 만들어가는 과정을 정리해보려합니다.

## 서비스 소개
우선 블로그를 만들기 전에 Jekyll과 GitHub Pages가 무엇인고, 어떻게 블로그가 만들어지는지 간단히 소개하겠습니다.

### Jekyll
Jekyll은 블로그를 지향하는 정적 사이트 생성기입니다. 그러니까, 특정 형식에 맞게 글을 작성하면 HTML파일을 생성하는 프로그램입니다. 지원하는 언어에는 Markdown, Textile 등이 있습니다.

말이 조금 복잡한데, 간단히 Markdown으로 글을 작성하면 블로그 용 HTML을 만들어주는 프로그램이라고 생각하시면 됩니다.

### GitHub Pages
[GitHub Pages](https://pages.github.com)는 [GitHub](https://github.com/)에서 만든 저장소를 이용해서 홈페이지를 만들어주는 무료 서비스입니다. 이 서비스는 저장소에 있는 파일을 이용해서 정적 웹사이트를 만들어줍니다. 그래서 단순히 HTML파일을 저장소에 올려도 웹페이지가 만들어집니다. 하지만 꾸준히 글이 늘어나는 블로그를 HTML파일만을 이용해서 관리한다는 것은 불가능에 가깝습니다. 결국, 페이지를 관리해 줄 수 있는 별도의 프로그램이 필요합니다. GitHub Pages에서는 페이지 관리 프로그램으로 Jekyll을 사용할 수 있습니다.

그러니까, 저장소에 올라간 글(소스코드)들을 Jekyll을 이용해서 HTML로 바꾼 뒤 웹페이지로 호스팅하는 서비스라고 생각하면 됩니다.

참고로 저장소를 Private으로 만들어도 웹페이지는 Public이 됩니다. 그러니까 웹페이지에 토큰같이 보안상 중요한 값을 사용하는 경우가 있다면, 꼭 저장소를 Private으로 만드십시오.

### 다른 블로그 서비스와의 차이점
그럼, GitHub Pages가 다른 블로그 서비스와는 어떤 차이가 있을까요?

우선, 모든 글은 GitHub 저장소에 저장되기 때문에, 버전관리를 하듯 글을 적을 수 있습니다. 즉, 모든 글의 히스토리가 기록됩니다. 이런 특징은 다른 블로그 서비스에서는 찾아보기 어려운 기능입니다. 게다가 수식을 적을 수 있도록 LaTeX도 지원합니다. 이것도 다른 서비스에서는 찾아보기 힘든 기능이죠.

반면, 모든 글을 소스코드처럼 작성하기 때문에, 글 작성은 웹 브라우저가 아닌 IDE나 텍스트 에디터를 이용하게 됩니다. 글을 작성하는 공간과 글이 발행되는 공간이 서로 다르다는건 다른 서비스에 비해 불편한 점입니다. 그리고 정적 사이트를 호스팅하는 서비스이기 때문에 글에 댓글과 같은 동적인 데이터 처리는 아예 지원하지 않습니다. 이런 기능은 [Disqus](https://disqus.com)같은 서비스의 힘을 빌려야 합니다.

마지막으로, Markdown과 같은 텍스트 기반의 마크업 언어로 글을 작성하기 때문에 이런 언어를 사용할 때의 장점과 단점을 그대로 지니고 있습니다. 마크업 언어로 글을 쓰다보면 글이 실제로 어떻게 보이는지는 알기 어려운데, 이건 WYSWYG을 지향하는 다른 블로그 서비스에 익숙한 분들에게는 단점으로 작용할겁니다. 하지만, 이런 언어는 서식 관리에 드는 시간을 크게 절약해 준다는 장점도 있습니다. 그래서 흔히 글에만 집중하면 된다는 표현을 쓰곤 하죠.

Markdown이라는 언어를 처음 접하게 되면 정확이 뭐가 장점인지 알기 어렵습니다. 그래서 이런 언어의 장점을 이용한 글쓰기 프로그램인 [Bear](http://www.bear-writer.com/)나 [Ulysses](https://ulyssesapp.com/)를 사용해 보시면 마크업 언어의 장점을 좀 더 쉽게 이해하실 수 있을겁니다.

## 블로그 세팅하기
모든 블로그 서비스는 블로그를 시작하기 전에 기본적인 환경설정을 해야합니다. GitHub Pages도 예외일리 없죠. 우선 블로그로 사용할 저장소를 만들어 보겠습니다. 다른 블로그 서비스의 '내 블로그'같은 공간을 만드는 과정입니다.

### 저장소 생성
GitHub Pages로 만드는 블로그는 그 성격에 따라 유저/단체(Organization)용 페이지와 프로젝트 용 페이지로 구분됩니다. 그리고 페이지의 성격은 저장소의 이름에 의해서 결정됩니다.

유저 혹은 단체를 위한 페이지인 경우, 저장소의 이름이 반드시 \<id\>.github.io가 되어야 합니다. 그러니까 이런 식인거죠.
![저장소 이름 예시]({{ site.url }}/assets/2017-11-18-make-a-blog-with-jekyll-and-github-pages/repo_name_example.png)
그리고 이 저장소의 master 브랜치에 소스파일을 넣어두면 웹페이지로 호스팅 됩니다. 

프로젝트 용 페이지는 유저 혹은 단체용 페이지가 아니면 됩니다. 그러니까 저장소의 이름이 \<id\>.github.io가 아닌 모든 저장소는 프로젝트 용 블로그가 될 수 있습니다. 하지만, 프로젝트 페이지는 해당 프로젝트의 저장소 안에 작성되어야 합니다. 아무래도 master 브랜치를 사용하기 힘든 경우가 많죠. 이런 경우에는 gh-pages 브랜치 또는 마스터 브랜치의 `/docs` 폴더를 사용합니다.

일단 지금은 유저 블로그를 만드는 상황이니 저는 ecleya.github.io라는 이름의 저장소를 만들었습니다. 그리고 앞으로 블로그의 저장소명은 \<id\>.github.com으로 통일하겠습니다. 이제 블로그는 이 저장소를 통해서 서비스되게 됩니다.

## 로컬환경 세팅
### Jekyll 설치
GitHub Pages는 글을 작성하는 공간과 발행하는 공간이 다르기 때문에, 글을 작성하는 환경을 따로 만들어야 합니다. 글을 작성하는 도구는 Jekyll이니, 일단 Jekyll을 설치해봅시다.

Jekyll은 Gem을 이용해서 설치합니다. 아래의 명령으로 설치가 가능합니다.
```
$ gem install jekyll
```

gem은 Ruby에서 사용하는 서드파티 라이브러리 설치 프로그램입니다. Gem에 대한 모든 내용은 [RubyGems 가이드](http://ruby-korea.github.io/rubygems-guides/)에 있습니다.

### 블로그 만들기
Jekyll이 설치되었으니 이제 블로그를 만들어 볼까요? 우선 앞서 만든 저장소를 Clone 받겠습니다.

```
$ git clone https://github.com/<id>/<id>.github.io
```

이제 로컬 저장소에 블로그를 생성해 보겠습니다. 다음 명령을 입력하면 블로그의 가장 기본적인 페이지가 자동으로 만들어집니다.
```
$ jekyll new <id>.github.io
```

이제 저장소 폴더에 들어가서 어떤 파일이 만들어졌나 확인해 보겠습니다.

```
$ cd <id>.github.io
$ ls -1
_posts
_config.yml
404.html
Gemfile
about.md
index.md
```

각 파일은 다음과 같은 역할을 수행합니다. 우선은 간단히 소개만 드리겠습니다. 앞으로 좀 더 자세히 볼 일이 생길겁니다.

|_posts|블로그의 글이 저장되어있는 폴더입니다.|
|_config.yml|블로그의 환경설정 정보가 들어있는 파일입니다.|
|404.html|잘못된 url로 접근하였을 때(보통 존재하지 않는 글에 접근하려 할 때) 나오는 화면입니다.|
|Gemfile|플러그인 설치용 파일입니다.|
|about.md|about 페이지 입니다.|
|index.md|블로그의 첫 페이지 입니다.|


### 플러그인 설치
많은 블로그는 플러그인을 지원합니다. Jekyll도 플러그인을 지원합니다. 그리고 모든 플러그인은 Gemfile을 이용해서 설치합니다.

그런데, 여기서 아주 중요한 제약사항이 있습니다. GitHub Pages는 보안상의 이유로 Jekyll에서 플러그인 사용을 제한하고 있습니다. 즉, GitHub Pages에서 제공하는 플러그인만 사용 가능합니다. 그래서, Gemfile의 내용을 아래와 같이 바꿔줘야합니다.

```
source 'https://rubygems.org'

gem 'github-pages', group: :jekyll_plugins
```

이제 GitHub Pages에서 허용하는 모든 프러그인을 설치해보겠습니다. 그러려면 bundler가 있어야합니다. bundler는 gem으로 설치하실 수 있습니다. bundler가 설치된 이후에는 `bundle`이라는 명령을 통해 Gemfile안에 있는 내용을 설치합니다.

```
$ gem install bundler
$ bundle
```

이제 거의 다 끝났습니다. 플러그인이 설치되었다면, 로컬에서 블로그를 한번 띄워볼까요?

```
$ jekyll serve
```

이제 로컬에 블로그 서버가 실행되었을 겁니다. 브라우저를 열어서 `https://127.0.0.1:4000`에 접속했을 때 아래와 같은 화면이 나오면 성공입니다.

![성공이다~~]({{ site.url }}/assets/2017-11-18-make-a-blog-with-jekyll-and-github-pages/jekyll_home.png)

### .gitignore 세팅
Jekyll은 사용자가 입력한 소스코드를 이용해서 정적 웹페이지를 만들어주는 프로그램입니다. 즉, 위와 같이 로컬에서 서버를 띄울 때마다 정적 파일이 어딘가에 생성된게됩니다. 그런데 이 파일들은 굳이 원격 저장소에 올릴 필요가 없습니다. GitHub Pages가 알아서 관리해 줄 것이기 때문입니다.

서버 실행을 종료하고 어떤 파일이 생겼나 확인해보겠습니다.
```
$ ls -1
_posts
_site
_config.yml
404.html
Gemfile
about.md
index.md
```

`_site`라는 폴더가 보이시죠? `_posts`에 적은 글을 Jekyll이 HTML로 변경한 결과물이 저장되는 폴더가 `_site`입니다. 즉, 웹 호스팅이 되는 파일은 모두 `_site`안에 있는 것이죠. 이 파일은 GitHub Pages에서 다시 만들테니, `.gitignore`에 `_site`를 추가해주세요.

## 배포하기
이제 블로그는 만들어졌으니, 블로그를 배포해보겠습니다. 배포는 간단합니다. 지금까지 생성한 모든 내용을 로컬 저장소에 commit하고, 이걸 원격저장소에 push하기만 하면 나머지는 GitHub Pages가 알아서 진행해줍니다. 다음 명령어로 저장소를 push해 보겠습니다.

```
$ git add .
$ git commit -m "blog init"
$ git push origin master
```

push가 모두 완료되면, https://\<id\>.github.io 을 통해서 배포된 블로그의 모습을 확인할 수 있습니다. 로컬에서 본 화면과 같은 화면이 나올 것 입니다.

## 다음에는...
다음에는 Jekyll로 새로운 글을 쓰고 발행하는 과정에 대해 다뤄보겠습니다. 끝까지 읽어주셔서 감사합니다.
